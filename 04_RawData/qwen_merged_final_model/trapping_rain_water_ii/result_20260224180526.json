{
  "task_name": "trapping_rain_water_ii",
  "model": "qwen_merged_final_model",
  "timestamp": "2026-02-24T18:05:26.227797",
  "nl_problem": "# Task: trapping_rain_water_ii\n# Interface:\nClass: Solution\nMethod: trapRainWater(self, arg1)\n\nGiven an m x n integer matrix heightMap representing the height of each unit cell in a 2D elevation map, return the volume of water it can trap after raining.\n\nConstraints:\n- m == heightMap.length\n- n == heightMap[i].length\n- 1 <= m, n <= 200\n- 0 <= heightMap[i][j] <= 2 * 10^4",
  "lisp_spec": "(task\n  (name \"trapRainWaterII\")\n  (signature ( (heightMap (list (list int))) ) int)\n  (constraints\n    (constraint \"m == heightMap.length\")\n    (constraint \"n == heightMap[i].length\")\n    (constraint \"1 <= m, n <= 200\")\n    (constraint \"0 <= heightMap[i][j] <= 2 * 10^4\")\n  )\n  (goal\n    (description \"Return the volume of water it can trap after raining.\")\n    (rule \"Trapping water involves finding the minimum height of the surrounding cells for each cell in the matrix.\")\n    (rule \"Water can only be trapped if the current cell's height is less than the minimum surrounding height.\")\n    (return \"The total volume of trapped water.\")\n  ))",
  "generated_code": "# solution.py\nfrom typing import List, Optional, Dict, Set, Any\nimport heapq\nimport collections\n\n# Define any helper classes here if needed\n\nclass Solution:\n    def trapRainWaterII(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or not heightMap[0]:\n            return 0\n        \n        rows, cols = len(heightMap), len(heightMap[0])\n        visited = set()\n        pq = []\n        \n        # Add all border cells to the priority queue\n        for i in range(rows):\n            heapq.heappush(pq, (heightMap[i][0], i, 0))\n            heapq.heappush(pq, (heightMap[i][cols - 1], i, cols - 1))\n            visited.add((i, 0))\n            visited.add((i, cols - 1))\n        for j in range(cols):\n            heapq.heappush(pq, (heightMap[0][j], 0, j))\n            heapq.heappush(pq, (heightMap[rows - 1][j], rows - 1, j))\n            visited.add((0, j))\n            visited.add((rows - 1, j))\n        \n        directions = [(0, 1), (1, 0), (-1, 0), (0, -1)]\n        total_water = 0\n        \n        while pq:\n            height, x, y = heapq.heappop(pq)\n            \n            for dx, dy in directions:\n                nx, ny = x + dx, y + dy\n                if 0 <= nx < rows and 0 <= ny < cols and (nx, ny) not in visited:\n                    visited.add((nx, ny))\n                    new_height = max(height, heightMap[nx][ny])\n                    total_water += max(0, new_height - heightMap[nx][ny])\n                    heapq.heappush(pq, (new_height, nx, ny))\n        \n        return total_water",
  "test_passed": false,
  "test_output": "============================= test session starts ==============================\nplatform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0\nrootdir: /home/miyata/projects/llm_complexity_benchmark\nplugins: anyio-4.12.1\ncollected 2 items\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py FF            [100%]\n\n=================================== FAILURES ===================================\n____________________________ test_trapping_ii_basic ____________________________\n\n    def test_trapping_ii_basic():\n        solution = Solution()\n        heightMap = [[1,4,3,1,3,2],[3,2,1,3,2,4],[2,3,3,2,3,1]]\n>       assert solution.trapRainWater(heightMap) == 4\n               ^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'Solution' object has no attribute 'trapRainWater'. Did you mean: 'trapRainWaterII'?\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py:7: AttributeError\n____________________________ test_trapping_ii_flat _____________________________\n\n    def test_trapping_ii_flat():\n        solution = Solution()\n        heightMap = [[1,1,1],[1,1,1],[1,1,1]]\n>       assert solution.trapRainWater(heightMap) == 0\n               ^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'Solution' object has no attribute 'trapRainWater'. Did you mean: 'trapRainWaterII'?\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py:12: AttributeError\n=========================== short test summary info ============================\nFAILED 01_TestDefinitions/trapping_rain_water_ii/test_solution.py::test_trapping_ii_basic\nFAILED 01_TestDefinitions/trapping_rain_water_ii/test_solution.py::test_trapping_ii_flat\n============================== 2 failed in 0.03s ===============================\n",
  "complexity_metrics": {
    "total_complexity_score": 0.4084,
    "python": {
      "cyclomatic_avg": 10.0,
      "cyclomatic_max": 10,
      "wmc": 10,
      "maintainability_index": 65.77666914437395,
      "max_nesting_depth": 5,
      "halstead_volume": 0,
      "lloc": 32,
      "loc": 43
    },
    "lisp": {
      "lisp_max_depth": 6,
      "lisp_constraints": 5,
      "lisp_rules": 2,
      "lisp_token_count": 92
    }
  }
}