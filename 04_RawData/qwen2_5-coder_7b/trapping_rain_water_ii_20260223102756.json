{
  "task_name": "trapping_rain_water_ii",
  "model": "qwen2.5-coder:7b",
  "timestamp": "2026-02-23T10:27:56.845218",
  "nl_problem": "# Task: trapping_rain_water_ii\n# Interface:\nClass: Solution\nMethod: trapRainWater(self, arg1)\n\nGiven an m x n integer matrix heightMap representing the height of each unit cell in a 2D elevation map, return the volume of water it can trap after raining.\n\nConstraints:\n- m == heightMap.length\n- n == heightMap[i].length\n- 1 <= m, n <= 200\n- 0 <= heightMap[i][j] <= 2 * 10^4",
  "lisp_spec": "(task\n  (name \"trapRainWater\")\n  (signature ( (heightMap (list (list int))) ) int)\n  (constraints\n    (constraint \"m == heightMap.length\")\n    (constraint \"n == heightMap[i].length\")\n    (constraint \"1 <= m, n <= 200\")\n    (constraint \"0 <= heightMap[i][j] <= 2 * 10^4\")\n  )\n  (goal\n    (description \"Calculate the volume of water that can be trapped after raining.\")\n    (rule \"The function should return the total volume of water trapped in the elevation map.\")\n    (return \"The volume of water trapped as an integer.\")\n  )\n)",
  "generated_code": "# solution.py\nfrom typing import List\n\nclass Solution:\n    def trapRainWater(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or not heightMap[0]:\n            return 0\n        \n        rows, cols = len(heightMap), len(heightMap[0])\n        heap = []\n        visited = set()\n        \n        # Initialize the heap with the boundary cells\n        for r in range(rows):\n            heapq.heappush(heap, (heightMap[r][0], r, 0))\n            heapq.heappush(heap, (heightMap[r][cols-1], r, cols-1))\n            visited.add((r, 0))\n            visited.add((r, cols-1))\n        \n        for c in range(1, cols-1):\n            heapq.heappush(heap, (heightMap[0][c], 0, c))\n            heapq.heappush(heap, (heightMap[rows-1][c], rows-1, c))\n            visited.add((0, c))\n            visited.add((rows-1, c))\n        \n        directions = [(-1, 0), (1, 0), (0, -1), (0, 1)]\n        water_trapped = 0\n        \n        while heap:\n            height, row, col = heapq.heappop(heap)\n            \n            for dr, dc in directions:\n                nr, nc = row + dr, col + dc\n                if 0 <= nr < rows and 0 <= nc < cols and (nr, nc) not in visited:\n                    visited.add((nr, nc))\n                    new_height = max(height, heightMap[nr][nc])\n                    water_trapped += new_height - heightMap[nr][nc]\n                    heapq.heappush(heap, (new_height, nr, nc))\n        \n        return water_trapped",
  "test_passed": false,
  "test_output": "============================= test session starts ==============================\nplatform linux -- Python 3.12.3, pytest-8.3.5, pluggy-1.6.0\nrootdir: /media/developer/USB480G/Project/llm_complexity_benchmark\nplugins: cov-7.0.0, langsmith-0.4.41, anyio-4.11.0\ncollected 2 items\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py FF            [100%]\n\n=================================== FAILURES ===================================\n____________________________ test_trapping_ii_basic ____________________________\n\n    def test_trapping_ii_basic():\n        solution = Solution()\n        heightMap = [[1,4,3,1,3,2],[3,2,1,3,2,4],[2,3,3,2,3,1]]\n>       assert solution.trapRainWater(heightMap) == 4\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py:7: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <solution.Solution object at 0x722860dadfa0>\nheightMap = [[1, 4, 3, 1, 3, 2], [3, 2, 1, 3, 2, 4], [2, 3, 3, 2, 3, 1]]\n\n    def trapRainWater(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or not heightMap[0]:\n            return 0\n    \n        rows, cols = len(heightMap), len(heightMap[0])\n        heap = []\n        visited = set()\n    \n        # Initialize the heap with the boundary cells\n        for r in range(rows):\n>           heapq.heappush(heap, (heightMap[r][0], r, 0))\nE           NameError: name 'heapq' is not defined. Did you forget to import 'heapq'\n\n01_TestDefinitions/trapping_rain_water_ii/solution.py:15: NameError\n____________________________ test_trapping_ii_flat _____________________________\n\n    def test_trapping_ii_flat():\n        solution = Solution()\n        heightMap = [[1,1,1],[1,1,1],[1,1,1]]\n>       assert solution.trapRainWater(heightMap) == 0\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <solution.Solution object at 0x722860dafce0>\nheightMap = [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n\n    def trapRainWater(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or not heightMap[0]:\n            return 0\n    \n        rows, cols = len(heightMap), len(heightMap[0])\n        heap = []\n        visited = set()\n    \n        # Initialize the heap with the boundary cells\n        for r in range(rows):\n>           heapq.heappush(heap, (heightMap[r][0], r, 0))\nE           NameError: name 'heapq' is not defined. Did you forget to import 'heapq'\n\n01_TestDefinitions/trapping_rain_water_ii/solution.py:15: NameError\n=========================== short test summary info ============================\nFAILED 01_TestDefinitions/trapping_rain_water_ii/test_solution.py::test_trapping_ii_basic\nFAILED 01_TestDefinitions/trapping_rain_water_ii/test_solution.py::test_trapping_ii_flat\n============================== 2 failed in 4.01s ===============================\n",
  "test_errors": "",
  "complexity_metrics": {
    "total_complexity_score": 0.385,
    "python": {
      "cyclomatic_avg": 10.0,
      "cyclomatic_max": 10,
      "wmc": 10,
      "maintainability_index": 63.81134200828851,
      "max_nesting_depth": 5,
      "halstead_volume": 0,
      "lloc": 30,
      "loc": 40
    },
    "lisp": {
      "lisp_max_depth": 6,
      "lisp_constraints": 5,
      "lisp_rules": 1,
      "lisp_token_count": 75
    }
  }
}