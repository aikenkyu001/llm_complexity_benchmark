{
  "task_name": "trapping_rain_water_ii",
  "model": "qwen2.5-coder:14b",
  "timestamp": "2026-02-25T12:04:45.438127",
  "nl_problem": "# Task: trapping_rain_water_ii\n# Interface:\nClass: Solution\nMethod: trapRainWater(self, arg1)\n\nGiven an m x n integer matrix heightMap representing the height of each unit cell in a 2D elevation map, return the volume of water it can trap after raining.\n\nConstraints:\n- m == heightMap.length\n- n == heightMap[i].length\n- 1 <= m, n <= 200\n- 0 <= heightMap[i][j] <= 2 * 10^4",
  "lisp_spec": "(task\n  (name \"trapRainWater\")\n  (signature ( (heightMap (list (list int))) ) int)\n  (constraints\n    (constraint \"m == length of heightMap\")\n    (constraint \"n == length of heightMap[i]\")\n    (constraint \"1 <= m, n <= 200\")\n    (constraint \"0 <= heightMap[i][j] <= 2 * 10^4\")\n  )\n  (goal\n    (description \"Calculate the volume of water that can be trapped after raining on a 2D elevation map represented by heightMap.\")\n    (rule \"Water can only be trapped in areas surrounded by higher elevations.\")\n    (return \"Return the total volume of trapped water as an integer. If no water is trapped, return 0.\")\n  )\n)",
  "generated_code": "from typing import List\n\nclass Solution:\n    def trapRainWater(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or not heightMap[0]:\n            return 0\n        \n        m, n = len(heightMap), len(heightMap[0])\n        if m < 3 or n < 3:\n            return 0\n        \n        # Initialize a min-heap to store the boundary cells\n        heap = []\n        visited = set()\n        \n        # Add all boundary cells to the heap and mark them as visited\n        for i in range(m):\n            heapq.heappush(heap, (heightMap[i][0], i, 0))\n            heapq.heappush(heap, (heightMap[i][n-1], i, n-1))\n            visited.add((i, 0))\n            visited.add((i, n-1))\n        \n        for j in range(n):\n            heapq.heappush(heap, (heightMap[0][j], 0, j))\n            heapq.heappush(heap, (heightMap[m-1][j], m-1, j))\n            visited.add((0, j))\n            visited.add((m-1, j))\n        \n        # Initialize the amount of water trapped\n        water_trapped = 0\n        \n        # Process the heap until it's empty\n        while heap:\n            height, x, y = heapq.heappop(heap)\n            \n            # Check all four possible directions\n            for dx, dy in [(-1, 0), (1, 0), (0, -1), (0, 1)]:\n                nx, ny = x + dx, y + dy\n                \n                if 0 <= nx < m and 0 <= ny < n and (nx, ny) not in visited:\n                    # Calculate the water trapped at this cell\n                    water_trapped += max(0, height - heightMap[nx][ny])\n                    \n                    # Push the new cell to the heap with the updated height\n                    heapq.heappush(heap, (max(height, heightMap[nx][ny]), nx, ny))\n                    \n                    # Mark the cell as visited\n                    visited.add((nx, ny))\n        \n        return water_trapped",
  "test_passed": false,
  "test_output": "============================= test session starts ==============================\nplatform darwin -- Python 3.14.3, pytest-9.0.2, pluggy-1.6.0\nrootdir: /private/test/llm_complexity_benchmark\nplugins: anyio-4.12.1\ncollected 2 items\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py FF            [100%]\n\n=================================== FAILURES ===================================\n____________________________ test_trapping_ii_basic ____________________________\n\n    def test_trapping_ii_basic():\n        solution = Solution()\n        heightMap = [[1,4,3,1,3,2],[3,2,1,3,2,4],[2,3,3,2,3,1]]\n>       assert solution.trapRainWater(heightMap) == 4\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py:7: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <solution.Solution object at 0x102bb30e0>\nheightMap = [[1, 4, 3, 1, 3, 2], [3, 2, 1, 3, 2, 4], [2, 3, 3, 2, 3, 1]]\n\n    def trapRainWater(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or not heightMap[0]:\n            return 0\n    \n        m, n = len(heightMap), len(heightMap[0])\n        if m < 3 or n < 3:\n            return 0\n    \n        # Initialize a min-heap to store the boundary cells\n        heap = []\n        visited = set()\n    \n        # Add all boundary cells to the heap and mark them as visited\n        for i in range(m):\n>           heapq.heappush(heap, (heightMap[i][0], i, 0))\n            ^^^^^\nE           NameError: name 'heapq' is not defined. Did you forget to import 'heapq'?\n\n01_TestDefinitions/trapping_rain_water_ii/solution.py:18: NameError\n____________________________ test_trapping_ii_flat _____________________________\n\n    def test_trapping_ii_flat():\n        solution = Solution()\n        heightMap = [[1,1,1],[1,1,1],[1,1,1]]\n>       assert solution.trapRainWater(heightMap) == 0\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n01_TestDefinitions/trapping_rain_water_ii/test_solution.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <solution.Solution object at 0x102c1d310>\nheightMap = [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n\n    def trapRainWater(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or not heightMap[0]:\n            return 0\n    \n        m, n = len(heightMap), len(heightMap[0])\n        if m < 3 or n < 3:\n            return 0\n    \n        # Initialize a min-heap to store the boundary cells\n        heap = []\n        visited = set()\n    \n        # Add all boundary cells to the heap and mark them as visited\n        for i in range(m):\n>           heapq.heappush(heap, (heightMap[i][0], i, 0))\n            ^^^^^\nE           NameError: name 'heapq' is not defined. Did you forget to import 'heapq'?\n\n01_TestDefinitions/trapping_rain_water_ii/solution.py:18: NameError\n=========================== short test summary info ============================\nFAILED 01_TestDefinitions/trapping_rain_water_ii/test_solution.py::test_trapping_ii_basic\nFAILED 01_TestDefinitions/trapping_rain_water_ii/test_solution.py::test_trapping_ii_flat\n============================== 2 failed in 0.03s ===============================\n",
  "test_errors": "",
  "complexity_metrics": {
    "total_complexity_score": 0.4136,
    "python": {
      "cyclomatic_avg": 12.0,
      "cyclomatic_max": 12,
      "wmc": 12,
      "maintainability_index": 73.92093983214168,
      "max_nesting_depth": 5,
      "halstead_volume": 0,
      "lloc": 30,
      "loc": 50
    },
    "lisp": {
      "lisp_max_depth": 6,
      "lisp_constraints": 5,
      "lisp_rules": 1,
      "lisp_token_count": 93
    }
  }
}